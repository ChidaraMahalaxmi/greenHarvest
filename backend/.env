# ============================================
# backend/.env  (CLEAN + CORRECTED VERSION)
# ============================================

# === Server Configuration ===
NODE_ENV=development
PORT=5000
API_VERSION=v1
REFUND_DELAY_MINUTES=2

# === Database Configuration ===
MONGODB_URI=mongodb://localhost:27017/greenharvest
MONGO_URI=mongodb://127.0.0.1:27017/greenharvest

# === Redis Configuration ===
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://127.0.0.1:6379

# === JWT Authentication ===
JWT_SECRET=a9a725dd507261c835008c1bc53abeb3dc768774ee38949c066831d45569899e
REFRESH_TOKEN_SECRET=aa8a1410cb6e8f1af32cc733e6057b28c3d30ff8e09a945c8ad809227155d80b
JWT_EXPIRE=15m
REFRESH_TOKEN_EXPIRE=7d

# === Payment Gateway (Stripe) ===
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# === Cloud Storage (Cloudinary) ===
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
MAX_IMAGE_SIZE=5242880
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png,webp

# ----------------------------------------------------------
# === Email Service (SMTP) â€” THE ACTUAL CONFIG USED BY CODE
# ----------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=mahalaxmichidara@gmail.com
SMTP_PASS=aynawfoaxhfrdpfe      # <-- Your Gmail app password
EMAIL_FROM=mahalaxmichidara@gmail.com
ADMIN_EMAIL=mahalaxmichidara@gmail.com

# === SMS Service (Twilio) ===
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# === Application URLs ===
FRONTEND_URL=http://localhost:3000
ADMIN_URL=http://localhost:3000/admin

# === Monitoring & Logging ===
LOGSTASH_HOST=localhost
LOGSTASH_PORT=5000
LOGSTASH_ENABLED=false
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
PROMETHEUS_SCRAPE=true

# === Celery (Bull Queue) ===
CELERY_BROKER_URL=redis://localhost:6379
CELERY_RESULT_BACKEND=redis://localhost:6379
CELERY_TASK_TIMEOUT=300000

# === Rate Limiting ===
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# === Session Configuration ===
SESSION_SECRET=your_session_secret_key
SESSION_TIMEOUT=3600000

# === Inventory Configuration ===
INVENTORY_LOCK_TIMEOUT=30000
LOW_STOCK_THRESHOLD=10

# === Feature Flags ===
ENABLE_SUPPLY_CHAIN_TRACKING=true
ENABLE_ANALYTICS=true

# === Analytics Configuration ===
ANALYTICS_RETENTION_DAYS=365
