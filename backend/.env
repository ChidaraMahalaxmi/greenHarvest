# ============================================
# backend/.env
# Copy this to .env and fill in your values
# ============================================

# === Server Configuration ===
NODE_ENV=development
PORT=5000
API_VERSION=v1
# auto refund simulation time in minutes (1 or 2)
REFUND_DELAY_MINUTES=2


# === Database Configuration ===
MONGODB_URI=mongodb://localhost:27017/greenharvest
MONGO_URI=mongodb://127.0.0.1:27017/greenharvest
# For production with authentication:
# MONGODB_URI=mongodb://admin:password@localhost:27017/greenharvest?authSource=admin

# === Redis Configuration ===
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# === JWT Authentication ===
# Generate these with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=a9a725dd507261c835008c1bc53abeb3dc768774ee38949c066831d45569899e
REFRESH_TOKEN_SECRET=aa8a1410cb6e8f1af32cc733e6057b28c3d30ff8e09a945c8ad809227155d80b
JWT_EXPIRE=15m
REFRESH_TOKEN_EXPIRE=7d

# === Payment Gateway (Stripe) ===
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# === Cloud Storage (Cloudinary) ===
# Get these from https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
MAX_IMAGE_SIZE=5242880
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png,webp

# === Email Service (Gmail/SMTP) ===
# For Gmail: Use App Password (https://myaccount.google.com/apppasswords)
EMAIL_SERVICE=gmail
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_gmail_app_password
EMAIL_FROM=noreply@greenharvest.com
ADMIN_EMAIL=admin@example.com

# === SMS Service (Twilio) ===
# Get these from https://console.twilio.com/
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# === Application URLs ===
FRONTEND_URL=http://localhost:3000
ADMIN_URL=http://localhost:3000/admin

# === Monitoring & Logging ===
LOGSTASH_HOST=localhost
LOGSTASH_PORT=5000
LOGSTASH_ENABLED=false
PROMETHEUS_PORT=9090
METRICS_ENABLED=true
PROMETHEUS_SCRAPE=true

# === Celery (Bull Queue) ===
CELERY_BROKER_URL=redis://localhost:6379
CELERY_RESULT_BACKEND=redis://localhost:6379
CELERY_TASK_TIMEOUT=300000

# === Rate Limiting ===
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# === Session Configuration ===
SESSION_SECRET=your_session_secret_key
SESSION_TIMEOUT=3600000

# === Inventory Configuration ===
INVENTORY_LOCK_TIMEOUT=30000
LOW_STOCK_THRESHOLD=10

# === Feature Flags ===
ENABLE_SUPPLY_CHAIN_TRACKING=true
ENABLE_ANALYTICS=true

# === Analytics Configuration ===
ANALYTICS_RETENTION_DAYS=365